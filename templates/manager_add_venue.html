{% extends "base.html" %}

{% block title %}Manager Portal - Add Venue{% endblock %}

{% block content %}
    <h2>Add New Venue</h2>
    <form method="post" class="add-venue-form">
        <label for="venue_name">Venue Name:</label>
        <input type="text" name="venue_name" id="venue_name" required>

        <label for="venue_adr">Address:</label>
        <input type="text" name="venue_adr" id="venue_adr" required>

        <label for="capacity">Capacity:</label>
        <input type="number" name="capacity" id="capacity" required>

        <label for="facilities">Facilities:</label>
        <textarea name="facilities" id="facilities" rows="4"></textarea>

        <button type="submit" class="cta-button">Add Venue</button>
    </form>

    <hr>

    <h3>Existing Venues ({{ venues|length }})</h3>
    <table>
        <thead>
            <tr>
                <th>Name</th>
                <th>Address</th>
                <th>Capacity</th>
                <th>Facilities</th>
                <th>Bookings</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
        {% for venue in venues %}
        <tr>
            <td>{{ venue.venue_name }}</td>
            <td>{{ venue.venue_adr }}</td>
            <td>{{ venue.capacity }}</td>
            <td>{{ venue.facilities }}</td>
            <td>{{ venue.booking_count }}</td>
            <td>
                <a href="{{ url_for('manager.edit_venue', venue_id=venue.venue_id) }}">Edit</a>
                <a href="{{ url_for('manager.delete_venue', venue_id=venue.venue_id) }}"
                   onclick="return confirm('Are you sure you want to delete this venue?')">Delete</a>
            </td>
        </tr>
        
        {% endfor %}
        </tbody>
    </table>
{% endblock %}
